.\"Text automatically generated by txt2man
.TH basexserver 1 "13 May 2011" "" "The XML Database"
.SH NAME
\fBbasexserver \fP- XML database system and XPath/XQuery processor (server mode)
\fB
.SH SYNOPSIS
.nf
.fam C
\fBbasexserver\fP [\fB-dpsz\fP] [\fB-c\fP] [\fIstop\fP]

.fam T
.fi
.fam T
.fi
.SH DESCRIPTION
\fBbasexserver\fP starts the server mode of the native XML database system \fBbasex\fP(1) on default port 1984.
.SH OPTIONS
.TP
.B
\fIstop\fP
Stop an existing server instance; remaining input is ignored. 
.TP
.B
\fB-c\fP<cmd>
Launch database commands before the server itself is started; all remaining text is interpreted as command input. Several commands can be separated by semicolons. (\fB-c\fP"open database;info")
.TP
.B
\fB-d\fP
Turn on debugging. Debugging information is output to standard error. 
.TP
.B
\fB-i\fP
Interactively enter commands on the console, similar to standalone and client mode. 
.TP
.B
\fB-p\fP<num>
Specify the port on which the server will be addressable (default 1984, \fB-p9999\fP). 
.TP
.B
\fB-s\fP
Start as daemon.
.TP
.B
\fB-z\fP
Do not generate log files.
.SH USER MANAGEMENT
On first startup a user 'admin' with default password 'admin' exists (make sure to change this)!
.PP
Admin permissions are needed to execute one of the following processes.
.IP \(bu 3
Creating user 'test' with password 'test':
.PP
.nf
.fam C
   > CREATE USER test test

.fam T
.fi
As global permissions valid options are 'none', 'read', 'write', 'create' and 'admin'.
.IP \(bu 3
Revoking all global permissions from user 'test':
.PP
.nf
.fam C
   > GRANT none TO test

.fam T
.fi
Valid local permissions are 'none', 'read' and 'write'.
.IP \(bu 3
Granting write permission on database 'factbook' to user 'test':
.PP
.nf
.fam C
    > GRANT write ON factbook TO test

.fam T
.fi
Note: Local permissions overwrite global permissions. As a consequence, the 'test' user will only be allowed to access (i.e., read and write) the 'factbook' database. If no local permissions are set, the global rights are inherited.
.IP \(bu 3
Showing global permissions:
.PP
.nf
.fam C
    > SHOW USERS

.fam T
.fi
.IP \(bu 3
Showing local permissions on database 'factbook':
.PP
.nf
.fam C
   > SHOW USERS ON factbook

.fam T
.fi
.IP \(bu 3
Dropping of user 'test':
.PP
.nf
.fam C
   > DROP USER test

.fam T
.fi
Further details on user management are to be found in the BaseX Documentation
Wiki (http://docs.basex.org/wiki/User_Management).
.SH DATABASE COMMANDS
A list of supported Database commands can be obtained from
.PP
.nf
.fam C
    $ basexserver \-i help

.fam T
.fi
or by browsing http://docs.basex.org/wiki/Commands
.PP
Following table shows BaseX commands and the permission needed to execute the command.
Without appropriate permission an error is thrown and the command will not be executed.
.TP
.B
close
Closes currently opened database.  (None)
.TP
.B
exit
Exits BaseX.  (None)
.TP
.B
get
Returns a property value.  (None)
.TP
.B
help
Shows the help texts.  (None)
.TP
.B
password
Changes password of currently logged-in user.  (None)
.TP
.B
set
Sets a property value.  (None)
.TP
.B
xquery
Executes a xquery function without database access.  (None)
.TP
.B
info
Shows information about the currently opened database.  (Read)
.TP
.B
list
Shows all available databases.  (Read)
.TP
.B
open
Opens a database.  (Read)
.TP
.B
xquery
Executes a read-only xquery function with database access.  (Read)
.TP
.B
add
Adds documents to the currently opened database.  (Write)
.TP
.B
create index
Creates the specified index.  (Write)
.TP
.B
delete
Deletes documents from the currently opened database.  (Write)
.TP
.B
drop index
Drops the specified index.  (Write)
.TP
.B
optimize
Optimizes the database structure and renews the indexes.  (Write)
.TP
.B
xquery
Executes a xquery update function.  (Write)
.TP
.B
alter db
Renames a database.  (Create)
.TP
.B
create db
Creates a database.  (Create)
.TP
.B
drop db
Drops a database.  (Create)
.TP
.B
export
Exports the database content.  (Create)
.TP
.B
alter user
Changes the password of an user.  (Admin)
.TP
.B
create users
Creates a new user.  (Admin)
.TP
.B
drop user
Drops an user.  (Admin)
.TP
.B
grant
Assigns permissions to users.  (Admin)
.TP
.B
kill
Kills an user session on the server.  (Admin)
.TP
.B
show
Shows different server information.  (Admin)
.SH SEE ALSO
\fBbasexclient\fP(1), \fBbasex\fP(1), \fBbasexgui\fP(1)
.TP
.B
~/.basex
BaseX (standalone and server) properties
.TP
.B
~/.basexgui
BaseX additional GUI properties 
.TP
.B
~/.basexperm
user name, passwords, and permissions
.TP
.B
~/BaseXData
Default database directory
.TP
.B
~/BaseXData/.logs
Server logs
.PP
BaseX Documentation Wiki: http://docs.basex.org
.SH HISTORY
BaseX started as a research project of the Database and Information Systems
Group (DBIS) at the University of Konstanz in 2005 and soon turned into a
feature-rich open source XML database and XPath/XQuery processor.
.SH LICENSE
New (3-clause) BSD License
.SH AUTHOR
BaseX is developed by a bunch of people called 'The BaseX Team'
<http://basex.org/about-us/> led by Christian Gruen <cg@basex.org>.
.PP
The man page was written by Alexander Holupirek <alex@holupirek.de> while packaging BaseX for Debian GNU/Linux.
